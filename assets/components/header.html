<header class="header">
  <div class="logo">
    <a href="/">
      <img src="/assets/logo/logo.png" alt="Markrypt Logo" class="logo-image">
      <span class="company-name"><span class="mark">Mark</span><span class="krypt">rypt</span></span>
    </a>
  </div>
  <div class="header-controls">
    <div class="search-icon" aria-label="Search" onclick="initializeSearch()">
      <i class="fas fa-search"></i>    </div>
    <div class="menu-icon" tabindex="0" aria-haspopup="true" aria-expanded="false" aria-label="Menu" onclick="toggleMenuDropdown()" onblur="closeMenuDropdown()">
      <i class="fas fa-bars"></i>
      <div class="menu-dropdown" id="menuDropdown">
        <div class="dropdown-title">Legal & Info</div>
        <a href="/privacy">Privacy Policy</a>
        <a href="/terms">Terms of Use</a>
        <a href="/cookies">Cookie Policy</a>
        <a href="/about">About Markrypt</a>
        <a href="/contact">Contact Us</a>
      </div>
    </div>
  </div>
</header>
<script>
  function initializeSearch() {
    console.log('Search icon clicked');
    
    // Function to try opening the search modal
    const tryOpenSearch = () => {
      if (window.searchManager && typeof window.searchManager.openSearchModal === 'function') {
        window.searchManager.openSearchModal();
        return true;
      }
      return false;
    };

    // First attempt to open search modal
    if (tryOpenSearch()) return;

    // If SearchManager exists but isn't ready, wait for initialization
    if (window.searchManager) {
      console.log('Waiting for SearchManager initialization...');
      setTimeout(tryOpenSearch, 500);
      return;
    }

    // If no SearchManager exists, create and initialize it
    console.log('Creating new SearchManager...');
    window.searchManager = new SearchManager();
    window.searchManager.init().then(() => {
      console.log('SearchManager initialized, opening modal...');
      window.searchManager.openSearchModal();
    }).catch(err => {
      console.error('Failed to initialize search:', err);
    });
  }
</script>

